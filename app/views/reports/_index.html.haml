= form_for @report do |f|
  .module
    %h2
      %span
        Report for
    .module-body
      .fieldset
        %p
          .input1
            = f.radio_button :investigation, "last_day"
            %strong Last day of investigation
          .input5
            = f.radio_button :investigation, "summary"
            %strong Summary
          .input1
            = f.submit 'Show', :class => 'submit-green'
        %p
          .div{:id => 'summary'}  
            .input1
              %strong Start Date
              = f.text_field :start_date,:class => 'datepicker_start_date',"data-date-format" => "yyyy-mm-dd", :size => 20
            .input1
              %strong End Date
              = f.text_field :end_date,:class => 'datepicker_end_date', "data-date-format" => "yyyy-mm-dd", :size => 20
            .input1
              %strong Patient
              = f.text_field :patient, :class => "span3", :style => "margin: 0 auto;", "data-provide" => "typeahead", "data-items" => "8", data:{source: @patients } , :autocomplete => "off"
              = hidden_field_tag :selected_patient_id

:javascript
  $("#summary").hide();
  if( $("input[name='report[investigation]']:checked").val() == 'summary')
  {
    $("#summary").show();
  }
  $("#report_investigation_last_day").click(function(){
    $("#summary").hide();
  });
  $("#report_investigation_summary").click(function(){
    $("#summary").show();
  });  
  
  $('.datepicker_start_date').datepicker();
  $('.datepicker_end_date').datepicker();
  
  $("#new_report").submit( function () {
    if( $("input[name='report[investigation]']:checked").val() == 'summary'){
      if($('#report_patient').val()==""){
        alert('Patient does not exist .');
          return false;
     }
     return true;
    }
  });

                  

